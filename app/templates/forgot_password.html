<!-- app/templates/forgot_password.html -->
{% extends "base.html" %}
{% block content %}
{# Aplicada clase de contenedor y clases de margen #}
<div class="card form-container-medium mt-2 mb-2 text-center">
  <h2 class="text-center">Recuperar Contraseña</h2>

  <!-- Formulario que hace POST a /auth/forgot_password -->
  <form method="POST" action="{{ url_for('auth_bp.forgot_password') }}" class="d-flex flex-column align-items-center gap-1">
    <!-- Campo oculto para el token CSRF (SeaSurf) -->
    <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">

    <!-- Campo para usuario/correo (WTForms o input normal) -->
    {# Aplicada clase margen #}
    <div class="mb-1 d-flex flex-column align-items-center w-100 otp-input-container">
      <label for="user_input">Usuario o Correo:</label>
      {{ form.user_input(size=40, class="w-100") }}
    </div>

    <!-- Botones centrados -->
    <div class="d-flex align-items-center justify-content-center gap-1">
      <button type="submit" class="btn btn-red">Recuperar Contraseña</button>

      <!-- Botón Volver al login (Refactorizado) -->
      <button 
        type="button"
        id="btnVolverLoginForgot"
        class="btn-blue"
        data-url="{{ url_for('auth_bp.login') }}"
        >
        Volver
      </button>
    </div>
  </form>

  {% if form.errors %}
    {# Aplicada clase de errores #}
    <ul class="form-errors text-center">
      {% for field, errors in form.errors.items() %}
        <li>{{ field }}:
          <ul>
            {% for error in errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        </li>
      {% endfor %}
    </ul>
  {% endif %}
</div>
{% endblock %}
