<!-- app/templates/edit_imap2.html -->
{% extends "base.html" %}
{% block content %}
{# Aplicada clase de contenedor #}
<div class="form-container-medium">
  <div class="card">
    <h2 class="text-center">Editar Servidor IMAP Segunda Página</h2>

    <!-- Formulario para actualizar un servidor IMAP2 existente -->
    <form method="POST"
          action="{{ url_for('admin_bp.manage_imap2') }}">
      <!-- Campo oculto con CSRF -->
      <input type="hidden" name="_csrf_token" value="{{ csrf_token() }}">
      
      <!-- Campo oculto para indicar que se está editando el servidor con ID 'srv.id' -->
      <input type="hidden" name="server_id" value="{{ srv.id }}">

      <!-- Host con label y autocomplete -->
      <label for="host">Host del servidor:</label>
      <input
        type="text"
        id="host"
        name="host"
        placeholder="Host"
        value="{{ srv.host }}"
        required
        class="d-block mb-05"
        autocomplete="off"
      >

      <!-- Port con label y autocomplete -->
      <label for="port">Puerto:</label>
      <input
        type="number"
        id="port"
        name="port"
        placeholder="993"
        value="{{ srv.port }}"
        class="d-block mb-05"
        autocomplete="off"
      >

      <!-- Usuario con label y autocomplete -->
      <label for="username">Usuario:</label>
      <input
        type="text"
        id="username"
        name="username"
        placeholder="Usuario"
        value="{{ srv.username }}"
        required
        class="d-block mb-05"
        autocomplete="username"
      >

      <!-- Password con label y autocomplete -->
      <label for="password">Contraseña:</label>
      <input
        type="password"
        id="password"
        name="password"
        placeholder="Password (dejar vacío si no cambias)"
        class="d-block mb-05"
        autocomplete="current-password"
      >

      <!-- Carpetas con label y autocomplete -->
      <label for="folders">Carpetas (separadas por comas):</label>
      <input
        type="text"
        id="folders"
        name="folders"
        value="{{ srv.folders if srv.folders else 'INBOX' }}"
        class="d-block mb-05"
        autocomplete="off"
      >

      <div class="text-center mt-1">
        <button type="submit" class="btn-green mr-05">Guardar</button>
        <a href="{{ url_for('admin_bp.dashboard') }}" class="btn btn-blue text-decoration-none">Volver</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}

